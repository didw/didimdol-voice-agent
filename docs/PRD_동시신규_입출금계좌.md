# PRD: 동시신규 입출금계좌 개설 시스템

## 1. 프로젝트 개요

### 1.1 제품명
**동시신규 입출금계좌 개설 시스템 (Concurrent Account Opening System)**

### 1.2 제품 설명
실시간 음성 인터페이스를 통해 입출금계좌와 부가서비스(모바일뱅킹, 체크카드)를 동시에 신청할 수 있는 지능형 금융 상담 시스템

### 1.3 개발 목적
- **고객 편의성 향상**: 음성 기반 자연스러운 대화형 인터페이스
- **업무 효율성 증대**: 여러 상품의 동시 신청으로 처리 시간 단축
- **정보 수집 자동화**: 지능형 슬롯 필링을 통한 필수 정보 체계적 수집
- **옴니채널 대응**: 웹 기반으로 다양한 디바이스에서 접근 가능

## 2. 대상 사용자

### 2.1 주요 사용자
- **신규 고객**: 입출금계좌 신규 개설 희망자
- **기존 고객**: 부가 서비스 추가 신청자

### 2.2 사용자 특성
- 연령대: 20-60대
- 디지털 친화도: 중급 이상
- 금융 서비스 이용 경험: 다양

## 3. 핵심 기능 요구사항

### 3.1 음성 인터페이스 (Voice Interface)

#### 3.1.1 실시간 음성 인식 (STT)
- **실시간 음성 변환**: Google Cloud STT API 활용
- **중간 결과 표시**: 실시간 음성 인식 결과 화면 출력
- **EPD (End Point Detection)**: 발화 종료 자동 감지
- **Barge-in 지원**: 시스템 응답 중 사용자 발화 가능

#### 3.1.2 음성 합성 (TTS)
- **자연스러운 음성**: Google Cloud TTS API 활용
- **실시간 재생**: WebSocket을 통한 스트리밍 재생
- **음성 제어**: 재생 중단, 속도 조절 기능

#### 3.1.3 음성 모드 제어
- **음성/텍스트 전환**: 사용자 선택에 따른 입력 방식 변경
- **음성 녹음 상태 표시**: 시각적 피드백 제공

### 3.2 대화 플로우 관리 (Conversation Flow)

#### 3.2.1 시나리오 기반 대화
- **구조화된 시나리오**: JSON 기반 단계별 대화 정의
- **동적 분기**: 사용자 선택에 따른 대화 흐름 변경
- **컨텍스트 유지**: 대화 전반에 걸친 맥락 관리

#### 3.2.2 서비스 선택 시스템
```
1. 입출금 계좌 + 체크카드 + 모바일 뱅킹 (전체)
2. 입출금 계좌 + 모바일 뱅킹 (모바일만)
3. 입출금 계좌 + 체크카드 (카드만)
4. 입출금 계좌 (계좌만)
```

#### 3.2.3 지능형 응답 처리
- **자연어 이해**: LLM 기반 사용자 의도 파악
- **키워드 매핑**: 다양한 표현 방식 인식
- **순서 표현 인식**: "첫번째", "두번째" 등 순서 표현 처리

### 3.3 정보 수집 시스템 (Smart Slot Filling)

#### 3.3.1 실시간 정보 수집
- **동적 필드 표시**: 선택한 서비스에 따른 필드 조정
- **계층적 구조**: 부모-자식 관계의 조건부 필드
- **실시간 검증**: 입력 데이터 즉시 검증 및 피드백

#### 3.3.2 수집 정보 유형

##### 기본 개인정보
- 이름, 영문이름, 주민등록번호
- 휴대폰번호, 이메일
- 집주소, 직장주소

##### 보안매체 정보
- 보유 보안매체 확인 (미래테크, 코마스RSA)
- 신규 발급 보안매체 선택 (보안카드, 신한OTP)
- 이체한도 설정 (1회/1일 한도)

##### 체크카드 정보 (선택시)
- 카드 종류 선택
- 수령 방법 (즉시발급/우편발송)
- 후불교통기능, 이용내역 알림
- 대금결제계좌, 카드비밀번호

### 3.4 사용자 인터페이스 (User Interface)

#### 3.4.1 채팅 인터페이스
- **대화형 UI**: 메신저 스타일의 직관적 인터페이스
- **실시간 상태 표시**: 녹음, 처리, 응답 상태 시각화
- **오류 처리**: 연결 오류, 인식 실패 등 상황별 안내

#### 3.4.2 슬롯 필링 패널
- **진행률 표시**: 전체 및 그룹별 완료율 시각화
- **필드 그룹화**: 서비스별, 단계별 정보 분류
- **실시간 업데이트**: 수집 정보 즉시 반영
- **수정 기능**: 입력된 정보 수정 가능

#### 3.4.3 단계 응답 시스템
- **버튼 선택**: 선택지 제공 및 클릭 입력
- **토글 스위치**: Boolean 선택 UI
- **자유 텍스트**: 개방형 질문 입력

#### 3.4.4 반응형 디자인
- **모바일 최적화**: 768px 미만 화면 최적화
- **스와이프 제스처**: 패널 열기/닫기 터치 제스처
- **접근성**: ARIA 레이블, 키보드 네비게이션 지원

### 3.5 데이터 관리

#### 3.5.1 세션 관리
- **세션 ID**: 고유 세션 식별자 생성
- **상태 유지**: 대화 중단 시 상태 복원
- **자동 정리**: 비활성 세션 자동 정리

#### 3.5.2 정보 검증
- **필드 검증**: 타입, 형식, 필수값 검증
- **비즈니스 룰**: 금융 상품별 제약 조건 적용
- **중복 체크**: 기존 고객 정보와 중복 확인

## 4. 기술적 제약사항

### 4.1 성능 요구사항
- **응답 시간**: 사용자 발화 후 3초 이내 응답
- **음성 지연**: STT/TTS 처리 지연 최소화
- **동시 사용자**: 최대 100명 동시 접속 지원

### 4.2 보안 요구사항
- **개인정보 보호**: 주민번호 등 민감 정보 암호화
- **전송 보안**: HTTPS, WSS 프로토콜 사용
- **인증**: Google Cloud 서비스 인증 관리

### 4.3 호환성 요구사항
- **브라우저**: Chrome, Firefox, Safari, Edge 최신 2버전
- **모바일**: iOS Safari, Android Chrome
- **해상도**: 최소 360px 이상 지원

## 5. 비기능적 요구사항

### 5.1 가용성
- **업타임**: 99.5% 이상
- **장애 복구**: 자동 재연결 및 상태 복원

### 5.2 확장성
- **서비스 확장**: 새로운 금융 상품 추가 가능
- **언어 확장**: 다국어 지원 구조
- **기능 확장**: 새로운 인터페이스 모드 추가 가능

### 5.3 유지보수성
- **모듈화**: 독립적인 컴포넌트 구조
- **설정 관리**: JSON 기반 시나리오 설정
- **로깅**: 상세한 디버그 정보 제공

## 6. 사용자 경험 시나리오

### 6.1 기본 사용 시나리오
1. **시작**: 웹사이트 접속 및 음성 모드 활성화
2. **서비스 선택**: 4가지 옵션 중 원하는 서비스 조합 선택
3. **개인정보 확인**: 기본 정보 표시 및 확인/수정
4. **보안매체 등록**: 보유/신규 보안매체 선택 및 이체한도 설정
5. **추가 정보 수집**: 선택한 서비스별 필요 정보 입력
6. **최종 확인**: 수집된 모든 정보 검토 및 신청 완료

### 6.2 예외 시나리오
- **음성 인식 실패**: 텍스트 입력 모드 전환 안내
- **네트워크 중단**: 자동 재연결 및 상태 복원
- **정보 수정 요청**: 언제든 이전 입력 정보 수정 가능

## 7. 성공 지표

### 7.1 사용성 지표
- **완료율**: 시작 대비 신청 완료 비율 80% 이상
- **소요 시간**: 평균 신청 완료 시간 10분 이내
- **만족도**: 사용자 만족도 4.0/5.0 이상

### 7.2 기술적 지표
- **오류율**: 음성 인식 오류율 5% 이하
- **응답 속도**: 평균 응답 시간 2초 이내
- **시스템 안정성**: 무중단 운영 시간 99% 이상

## 8. 향후 확장 계획

### 8.1 기능 확장
- **생체 인증**: 음성 인증, 얼굴 인식 추가
- **AI 개인화**: 사용자별 맞춤 상담 서비스
- **화상 상담**: 실시간 화상 상담 기능 추가

### 8.2 서비스 확장
- **대출 상품**: 디딤돌 대출, 전세 대출 통합
- **투자 상품**: 펀드, 예금 상품 신청 지원
- **보험 상품**: 보험 가입 상담 서비스

## 9. 제약사항 및 가정

### 9.1 제약사항
- Google Cloud API 할당량 제한
- 브라우저별 Web Audio API 지원 차이
- 모바일 디바이스의 배터리 소모

### 9.2 가정사항
- 안정적인 인터넷 연결 환경
- 마이크/스피커 사용 가능한 디바이스
- 기본적인 웹 브라우저 조작 능력

## 10. 용어 정의

- **동시신규**: 여러 금융 상품을 한 번에 신청하는 서비스
- **슬롯 필링**: 대화를 통해 필요한 정보를 체계적으로 수집하는 과정
- **EPD**: End Point Detection, 발화 종료점 자동 감지
- **Barge-in**: 시스템 응답 중 사용자가 중간에 발화할 수 있는 기능
- **WebSocket**: 실시간 양방향 통신을 위한 프로토콜