# 입출금통장 슬롯필링 개선 PRD
## Product Requirements Document

### 1. 배경 및 문제점
현재 입출금통장 개설 시나리오는 다음과 같은 문제점이 있습니다:
- 한 번에 너무 많은 정보를 요구하여 사용자가 부담스러워함
- 수집된 정보에 대한 확인 절차가 없어 오류 발생 가능성
- 자연스러운 대화 흐름이 아닌 일방적인 정보 요구

### 2. 목표
- **단계적 정보 수집**: 관련 정보를 1-2개씩 묶어서 수집
- **확인 절차 추가**: 중요 정보 수집 후 반드시 확인
- **자연스러운 대화**: 대화형 인터페이스에 적합한 흐름
- **오류 감소**: 수정 기회 제공으로 정확도 향상

### 3. 핵심 원칙

#### 3.1 정보 그룹핑 원칙
- **연관성**: 서로 관련된 정보끼리 그룹핑
- **인지 부담 최소화**: 한 번에 1-2개 항목만 질문
- **논리적 순서**: 사용자가 이해하기 쉬운 순서로 진행

#### 3.2 확인 절차 원칙
- **필수 확인**: 2개 이상 정보 수집 시 반드시 확인
- **명확한 표시**: 수집된 정보를 명확하게 보여줌
- **쉬운 수정**: 간단한 수정 방법 제공

### 4. 상세 요구사항

#### 4.1 정보 수집 그룹
```
1. 기본 정보 확인
   - 고객명, 연락처 (기본값 제공)
   
2. 계좌 기본 설정
   - 평생계좌 등록 여부 (단일 질문)
   
3. 인터넷뱅킹 설정 (조건부)
   - 그룹 A: 보안매체, 이체한도
   - 그룹 B: 알림 설정 (선택사항)
   
4. 체크카드 설정 (조건부)
   - 그룹 A: 수령방법, 카드종류
   - 그룹 B: 추가 옵션 (선택사항)
```

#### 4.2 대화 흐름 설계

##### Stage 1: 시작 및 기본정보 확인
```
AI: 안녕하세요. 입출금통장 개설을 도와드리겠습니다.
    등록된 정보를 확인하겠습니다.
    - 성함: 홍길동
    - 연락처: 010-1234-5678
    이 정보가 맞으신가요?

사용자: [확인/수정]
```

##### Stage 2: 계좌 설정
```
AI: 평생계좌번호로 등록하시겠어요? 
    휴대폰번호 등으로 계좌번호를 설정할 수 있습니다.

사용자: [예/아니요]
```

##### Stage 3: 인터넷뱅킹 (조건부)
```
AI: 인터넷뱅킹을 가입하시겠어요?
사용자: 네

AI: 인터넷뱅킹 기본 설정을 도와드리겠습니다.
    보안매체는 무엇을 사용하시겠어요? (보안카드/OTP)
    그리고 이체한도는 어떻게 설정하시겠어요?

사용자: 보안카드로 하고, 1회 500만원, 1일 1000만원으로요

AI: 확인하겠습니다.
    - 보안매체: 보안카드
    - 1회 한도: 500만원
    - 1일 한도: 1000만원
    이대로 설정하시겠어요?

사용자: [확인/수정]
```

##### Stage 4: 최종 확인
```
AI: 신청하신 내용을 최종 확인해드리겠습니다.
    [전체 내용 요약]
    입출금통장을 개설하시겠어요?

사용자: [확인/수정]
```

### 5. 특수 케이스 처리

#### 5.1 한 번에 여러 정보 제공
사용자가 한 번에 여러 정보를 제공한 경우:
- 모든 정보를 수집하되, 그룹 단위로 확인
- 예: "보안카드로 하고 1회 500만원, 1일 1000만원, 알림도 다 신청할게요"
  → 보안매체와 한도 먼저 확인 후, 알림 설정 별도 확인

#### 5.2 기본값 처리
- 기본값이 있는 필드는 사용자에게 보여주고 확인
- 모든 기본값을 한꺼번에 확인하지 않고 그룹별로 확인

#### 5.3 수정 요청
- 특정 항목 수정: 해당 항목만 재질문
- 전체 수정: 어느 부분을 수정할지 먼저 확인

### 6. 성공 지표
- **완료율**: 시나리오 완료 비율 80% 이상
- **평균 턴 수**: 10-15턴 내 완료
- **수정 요청률**: 10% 이하
- **사용자 만족도**: 4.0/5.0 이상

### 7. 제약사항
- 기존 시나리오 구조와의 호환성 유지
- 백엔드 로직 복잡도 최소화
- 응답 시간 2초 이내 유지